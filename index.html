<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex, nofollow">
    <title>Kata & Marci Esk√ºv≈ë ‚Ä¢ Hamarosan</title>

    <!-- Bet≈±t√≠pusok -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Montserrat:wght@300;400;500;600&family=Great+Vibes&family=Tangerine:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome ikonok -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ======================================== 
           CSS V√ÅLTOZ√ìK (Az eredeti oldalhoz igaz√≠tva)
           ======================================== */
        :root {
            --cream: #F5F0E8;
            --dark-brown: #765830;
            --gold: #B48B58;
            --light-gold: #D4B896;
            --white: #FFFFFF;
            --black: #2C2420;

            --font-script: 'Great Vibes', cursive;
            --font-script-alt: 'Tangerine', cursive;
            --font-serif: 'Cormorant Garamond', serif;
            --font-sans: 'Montserrat', sans-serif;
        }

        /* ======================================== 
           ALAPBE√ÅLL√çT√ÅSOK
           ======================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            overflow-x: hidden;
        }

        body {
            font-family: var(--font-serif);
            color: var(--dark-brown);
            background-color: var(--cream);
            line-height: 1.6;
            position: relative;
        }

        /* ======================================== 
           H√ÅTT√âR GRADIENS & TEXT√öRA
           ======================================== */
        .background-layer {
            position: fixed;
            inset: 0;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 20%, rgba(180, 139, 88, 0.08), transparent 50%),
                radial-gradient(circle at 80% 30%, rgba(212, 184, 150, 0.06), transparent 55%),
                radial-gradient(circle at 50% 85%, rgba(118, 88, 48, 0.05), transparent 60%),
                linear-gradient(135deg, 
                    rgba(245, 240, 232, 1) 0%, 
                    rgba(245, 240, 232, 0.97) 40%, 
                    rgba(245, 240, 232, 1) 100%
                );
        }

        /* Finom grain text√∫ra */
        .grain-overlay {
            position: fixed;
            inset: -50%;
            z-index: -1;
            opacity: 0.08;
            pointer-events: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23noise)' opacity='0.6'/%3E%3C/svg%3E");
            animation: grain-shift 8s steps(10) infinite;
        }

        @keyframes grain-shift {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-5%, -10%); }
            20% { transform: translate(-15%, 5%); }
            30% { transform: translate(7%, -15%); }
            40% { transform: translate(-5%, 10%); }
            50% { transform: translate(15%, 0%); }
            60% { transform: translate(0%, 15%); }
            70% { transform: translate(-10%, 0%); }
            80% { transform: translate(5%, 5%); }
            90% { transform: translate(10%, -5%); }
        }

        /* ======================================== 
           F≈êKONT√âNER
           ======================================== */
        .main-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px 20px;
        }

        /* ======================================== 
           K√ñZPONTI K√ÅRTYA
           ======================================== */
        .content-card {
            width: min(1000px, 100%);
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: 
                0 20px 60px rgba(118, 88, 48, 0.15),
                0 0 0 1px rgba(212, 184, 150, 0.3);
            overflow: hidden;
            position: relative;
            animation: card-fade-in 0.8s ease-out;
        }

        @keyframes card-fade-in {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Finom f√©ny effekt a k√°rtya tetej√©n */
        .content-card::before {
            content: '';
            position: absolute;
            top: -150px;
            left: -150px;
            right: -150px;
            height: 300px;
            background: radial-gradient(
                circle at 30% 30%, 
                rgba(180, 139, 88, 0.12), 
                transparent 65%
            );
            pointer-events: none;
        }

        /* ======================================== 
           FEJL√âC
           ======================================== */
        .header {
            padding: clamp(40px, 5vw, 60px) clamp(20px, 4vw, 40px) 30px;
            text-align: center;
            position: relative;
        }

        /* Monogram log√≥ */
        .logo {
            display: inline-flex;
            align-items: center;
            gap: 16px;
            padding: 12px 24px;
            background: rgba(245, 240, 232, 0.7);
            border: 1px solid rgba(212, 184, 150, 0.5);
            border-radius: 50px;
            margin-bottom: 24px;
            animation: logo-float 3s ease-in-out infinite;
        }

        @keyframes logo-float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }

        .logo-initials {
            font-family: var(--font-script);
            font-size: 2.2rem;
            color: var(--gold);
            font-weight: 400;
            line-height: 1;
        }

        .logo-separator {
            color: var(--light-gold);
            opacity: 0.6;
        }

        .logo-year {
            font-family: var(--font-sans);
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--dark-brown);
        }

        /* D√≠sz√≠t≈ë vonal */
        .divider {
            width: min(500px, 85%);
            height: 1px;
            margin: 24px auto;
            background: linear-gradient(
                90deg, 
                transparent, 
                rgba(180, 139, 88, 0.5), 
                transparent
            );
        }

        /* F≈ëc√≠m */
        .main-title {
            font-family: var(--font-serif);
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 500;
            color: var(--dark-brown);
            letter-spacing: 1px;
            margin-bottom: 12px;
            line-height: 1.2;
        }

        /* Anim√°lt pontok a "Hamarosan" ut√°n */
        .loading-dots::after {
            content: '';
            display: inline-block;
            width: 1.5em;
            text-align: left;
            animation: dots-animation 1.4s infinite steps(4);
        }

        @keyframes dots-animation {
            0% { content: ''; }
            25% { content: '.'; }
            50% { content: '..'; }
            75% { content: '...'; }
            100% { content: ''; }
        }

        .subtitle {
            font-family: var(--font-serif);
            font-size: clamp(1.05rem, 2vw, 1.2rem);
            font-style: italic;
            color: var(--dark-brown);
            opacity: 0.85;
            margin-top: 8px;
        }

        /* ======================================== 
           TARTALOM TER√úLET
           ======================================== */
        .content {
            padding: 20px clamp(20px, 4vw, 40px) clamp(40px, 5vw, 60px);
        }

        /* Visszasz√°ml√°l√≥ panel */
        .countdown-panel {
            background: rgba(245, 240, 232, 0.6);
            border: 1px solid rgba(212, 184, 150, 0.4);
            border-radius: 20px;
            padding: 30px clamp(16px, 3vw, 28px);
            margin-bottom: 24px;
        }

        .panel-header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .panel-header i {
            color: var(--gold);
            font-size: 1.2rem;
        }

        .panel-title {
            font-family: var(--font-sans);
            font-size: 0.95rem;
            font-weight: 600;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: var(--dark-brown);
        }

        /* Visszasz√°ml√°l√≥ */
        .countdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 14px;
            margin-bottom: 24px;
        }

        .countdown-box {
            background: rgba(255, 255, 255, 0.8);
            border: 1px solid rgba(212, 184, 150, 0.35);
            border-radius: 16px;
            padding: 20px 16px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .countdown-box:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(118, 88, 48, 0.12);
            border-color: rgba(180, 139, 88, 0.5);
        }

        .countdown-number {
            font-family: var(--font-serif);
            font-size: clamp(2rem, 4vw, 2.5rem);
            font-weight: 600;
            color: var(--gold);
            line-height: 1.1;
            display: block;
            margin-bottom: 6px;
        }

        .countdown-label {
            font-family: var(--font-sans);
            font-size: 0.85rem;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            color: var(--dark-brown);
            opacity: 0.75;
        }

        /* Akci√≥gombok */
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: center;
            margin-bottom: 20px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            padding: 14px 24px;
            border-radius: 50px;
            font-family: var(--font-sans);
            font-size: 0.95rem;
            font-weight: 500;
            letter-spacing: 0.5px;
            text-decoration: none;
            border: 1px solid;
            cursor: pointer;
            transition: all 0.3s ease;
            user-select: none;
        }

        .btn-primary {
            background: var(--gold);
            color: var(--white);
            border-color: var(--gold);
        }

        .btn-primary:hover {
            background: var(--dark-brown);
            border-color: var(--dark-brown);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(118, 88, 48, 0.25);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.7);
            color: var(--dark-brown);
            border-color: rgba(212, 184, 150, 0.6);
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.95);
            border-color: var(--gold);
            transform: translateY(-2px);
        }

        /* D√°tum info */
        .date-info {
            text-align: center;
            font-family: var(--font-serif);
            font-size: 1.05rem;
            color: var(--dark-brown);
            opacity: 0.8;
            margin-top: 16px;
        }

        .date-info i {
            color: var(--gold);
            margin-right: 8px;
        }

        /* Inform√°ci√≥s panel */
        .info-panel {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(212, 184, 150, 0.3);
            border-radius: 16px;
            padding: 24px;
            text-align: center;
        }

        .info-panel i {
            font-size: 2rem;
            color: var(--gold);
            margin-bottom: 12px;
            display: block;
        }

        .info-text {
            font-family: var(--font-serif);
            font-size: 1.05rem;
            color: var(--dark-brown);
            line-height: 1.7;
            margin-bottom: 16px;
        }

        .info-highlight {
            font-family: var(--font-sans);
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--gold);
            letter-spacing: 1px;
        }

        /* ======================================== 
           L√ÅBL√âC
           ======================================== */
        .footer {
            padding: 24px clamp(20px, 4vw, 40px) 28px;
            text-align: center;
            border-top: 1px solid rgba(212, 184, 150, 0.3);
        }

        .footer-text {
            font-family: var(--font-sans);
            font-size: 0.85rem;
            color: var(--dark-brown);
            opacity: 0.7;
            letter-spacing: 0.5px;
        }

        /* ======================================== 
           RESPONSIVE BREAKPOINTS
           ======================================== */
        
        /* Tablet */
        @media (max-width: 768px) {
            .countdown {
                grid-template-columns: repeat(2, 1fr);
            }

            .logo-initials {
                font-size: 1.8rem;
            }

            .action-buttons {
                flex-direction: column;
                align-items: stretch;
            }

            .btn {
                width: 100%;
                max-width: 300px;
                margin: 0 auto;
            }
        }

        /* Mobil */
        @media (max-width: 480px) {
            .main-container {
                padding: 20px 12px;
            }

            .content-card {
                border-radius: 16px;
            }

            .header {
                padding-top: 30px;
            }

            .logo {
                padding: 10px 20px;
                gap: 12px;
            }

            .countdown-panel {
                padding: 20px 14px;
            }

            .countdown-number {
                font-size: 1.8rem;
            }

            .countdown-label {
                font-size: 0.75rem;
            }
        }

        /* ======================================== 
           EGY√âB ANIM√ÅCI√ìK
           ======================================== */
        
        /* Pulsating sz√≠v a visszasz√°ml√°l√≥n√°l */
        .heart-icon {
            animation: heart-beat 2s ease-in-out infinite;
        }

        @keyframes heart-beat {
            0%, 100% {
                transform: scale(1);
            }
            10%, 30% {
                transform: scale(1.1);
            }
            20%, 40% {
                transform: scale(1);
            }
        }
    </style>
</head>

<body>
    <!-- H√°tt√©r r√©tegek -->
    <div class="background-layer"></div>
    <div class="grain-overlay"></div>

    <!-- F≈ëkont√©ner -->
    <main class="main-container">
        <article class="content-card">
            <!-- Fejl√©c -->
            <header class="header">
                <div class="logo" role="banner">
                    <span class="logo-initials">K & M</span>
                    <span class="logo-separator" aria-hidden="true">‚Ä¢</span>
                    <span class="logo-year">2026</span>
                </div>

                <div class="divider" aria-hidden="true"></div>

                <h1 class="main-title">
                    Hamarosan<span class="loading-dots" aria-hidden="true"></span>
                </h1>
                <p class="subtitle">A r√©szletes esk√ºv≈ëi oldal k√©sz√ºl.</p>
            </header>

            <!-- Tartalom -->
            <div class="content">
                <!-- Visszasz√°ml√°l√≥ panel -->
                <section class="countdown-panel" aria-label="Visszasz√°ml√°l√≥ az esk√ºv≈ëig">
                    <div class="panel-header">
                        <i class="fa-regular fa-clock heart-icon"></i>
                        <h2 class="panel-title">Visszasz√°ml√°l√≥</h2>
                    </div>

                    <div class="countdown" id="countdown" role="timer">
                        <div class="countdown-box">
                            <span class="countdown-number" id="days">0</span>
                            <span class="countdown-label">Nap</span>
                        </div>
                        <div class="countdown-box">
                            <span class="countdown-number" id="hours">00</span>
                            <span class="countdown-label">√ìra</span>
                        </div>
                        <div class="countdown-box">
                            <span class="countdown-number" id="minutes">00</span>
                            <span class="countdown-label">Perc</span>
                        </div>
                        <div class="countdown-box">
                            <span class="countdown-number" id="seconds">00</span>
                            <span class="countdown-label">M√°sodperc</span>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <a href="#" class="btn btn-primary" id="btnCalendar">
                            <i class="fa-regular fa-calendar-plus"></i>
                            <span>Napt√°rba mentem</span>
                        </a>

                    </div>

                    <p class="date-info">
                        <i class="fa-regular fa-calendar"></i>
                        <strong>2026. augusztus 7.</strong> ‚Ä¢ p√©ntek
                    </p>
                </section>

                <!-- Inform√°ci√≥s panel -->
                <section class="info-panel" aria-label="Tov√°bbi inform√°ci√≥">
                    <i class="fa-solid fa-heart heart-icon"></i>
                    <p class="info-text">
                        Szeretettel v√°runk mindenkit √©let√ºnk egyik legszebb napj√°n!
                        <br>
                        A teljes r√©szletekkel hamarosan jelentkez√ºnk.
                    </p>
                    <p class="info-highlight">
                        Kata & Marci
                    </p>
                </section>
            </div>

            <!-- L√°bl√©c -->
            <footer class="footer">
                <p class="footer-text">
                    &copy; 2026 Kata & Marci ‚Ä¢ Esk√ºv≈ëi oldal
                </p>
            </footer>
        </article>
    </main>

    <script>
        // ==========================================
        // VISSZASZ√ÅML√ÅL√ì LOGIKA
        // ==========================================

        const TIMEZONE = "Europe/Budapest";
        const WEDDING = { 
            year: 2026, 
            month: 8, 
            day: 7, 
            hour: 16, 
            minute: 30, 
            second: 0 
        };

        // Budapest id≈ëpontb√≥l UTC timestamp k√©sz√≠t√©se
        function makeUtcTimestampForZonedTime(zoned) {
            const naiveUtc = Date.UTC(
                zoned.year, 
                zoned.month - 1, 
                zoned.day, 
                zoned.hour, 
                zoned.minute, 
                zoned.second
            );

            const dtf = new Intl.DateTimeFormat("en-US", {
                timeZone: TIMEZONE,
                year: "numeric",
                month: "2-digit",
                day: "2-digit",
                hour: "2-digit",
                minute: "2-digit",
                second: "2-digit",
                hour12: false
            });

            const parts = dtf.formatToParts(new Date(naiveUtc));
            const get = (type) => parts.find(p => p.type === type)?.value;

            const asSeen = {
                year: Number(get("year")),
                month: Number(get("month")),
                day: Number(get("day")),
                hour: Number(get("hour")),
                minute: Number(get("minute")),
                second: Number(get("second"))
            };

            const desired = Date.UTC(
                zoned.year, 
                zoned.month - 1, 
                zoned.day, 
                zoned.hour, 
                zoned.minute, 
                zoned.second
            );
            const seen = Date.UTC(
                asSeen.year, 
                asSeen.month - 1, 
                asSeen.day, 
                asSeen.hour, 
                asSeen.minute, 
                asSeen.second
            );

            return naiveUtc + (desired - seen);
        }

        const weddingUtcMs = makeUtcTimestampForZonedTime(WEDDING);

        // 2 sz√°mjegy≈± form√°z√°s
        function pad2(n) {
            return String(n).padStart(2, "0");
        }

        // Visszasz√°ml√°l√≥ friss√≠t√©se
        function updateCountdown() {
            const now = Date.now();
            const diff = weddingUtcMs - now;

            const countdownEl = document.getElementById("countdown");
            
            if (diff <= 0) {
                countdownEl.innerHTML = `
                    <div class="countdown-box" style="grid-column: 1 / -1;">
                        <span class="countdown-number" style="font-size: 2rem;">üíí</span>
                        <span class="countdown-label" style="letter-spacing: 1px;">Elj√∂tt a nagy nap!</span>
                    </div>
                `;
                clearInterval(timer);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            document.getElementById("days").textContent = days;
            document.getElementById("hours").textContent = pad2(hours);
            document.getElementById("minutes").textContent = pad2(minutes);
            document.getElementById("seconds").textContent = pad2(seconds);
        }

        updateCountdown();
        const timer = setInterval(updateCountdown, 1000);

        // ==========================================
        // NAPT√ÅR F√ÅJL GENER√ÅL√ÅS (ICS)
        // ==========================================

        function toICSDateUTC(ms) {
            const d = new Date(ms);
            const y = d.getUTCFullYear();
            const mo = pad2(d.getUTCMonth() + 1);
            const da = pad2(d.getUTCDate());
            const h = pad2(d.getUTCHours());
            const mi = pad2(d.getUTCMinutes());
            const s = pad2(d.getUTCSeconds());
            return `${y}${mo}${da}T${h}${mi}${s}Z`;
        }

        document.getElementById("btnCalendar").addEventListener("click", (e) => {
            e.preventDefault();

            const start = weddingUtcMs;
            const end = weddingUtcMs + 5 * 60 * 60 * 1000; // +5 √≥ra esem√©ny id≈ëtartam

            const summary = "Kata & Marci Esk√ºv≈ë";
            const location = "Bab√≥t, Sport u. 10, 9351";
            const description = "Kata √©s Marci esk√ºv≈ëje. Id≈ëpont: 2026-08-07 16:30 (Budapest id≈ë szerint).";

            const ics = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//KataMarci//SaveTheDate//HU
CALSCALE:GREGORIAN
METHOD:PUBLISH
BEGIN:VEVENT
UID:${Date.now()}@katamarci-eskuvo
DTSTAMP:${toICSDateUTC(Date.now())}
DTSTART:${toICSDateUTC(start)}
DTEND:${toICSDateUTC(end)}
SUMMARY:${summary}
LOCATION:${location}
DESCRIPTION:${description}
STATUS:CONFIRMED
END:VEVENT
END:VCALENDAR`;

            const blob = new Blob([ics], { type: "text/calendar;charset=utf-8" });
            const url = URL.createObjectURL(blob);

            const a = document.createElement("a");
            a.href = url;
            a.download = "kata-marci-eskuvo.ics";
            document.body.appendChild(a);
            a.click();
            a.remove();

            setTimeout(() => URL.revokeObjectURL(url), 2000);

            console.log("%c‚úÖ Napt√°rf√°jl sikeresen let√∂ltve!", "color: #B48B58; font-weight: bold; font-size: 14px;");
        });

        // ==========================================
        // CONSOLE √úZENET (Easter egg)
        // ==========================================

        console.log("%cüíç Kata & Marci Esk√ºv≈ë 2026 üíç", "font-size: 18px; color: #B48B58; font-weight: bold;");
        console.log("%cSzeretettel v√°runk mindenkit! ‚ù§Ô∏è", "font-size: 13px; color: #765830; font-style: italic;");
    </script>
</body>
</html>
